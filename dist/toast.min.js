!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):(e=e||self).toast=t()}(this,function(){"use strict";var t=function(){function e(){}return e.prototype.load=function(e){var t=document.createElement("link");return t.rel="stylesheet",t.href=e,document.querySelector("head").appendChild(t),this.promise(t)},e.prototype.listen=function(e){return this.load(e.href)},e.prototype.promise=function(e){var n=e;return new Promise(function(e,t){n.onload=function(){return e(n)},n.onerror=function(){return t()}})},e}(),n=function(){function e(){}return e.prototype.load=function(e){var t=document.createElement("script");return t.src=e,document.querySelector("head").appendChild(t),this.promise(t)},e.prototype.listen=function(e){return this.load(e.src)},e.prototype.promise=function(e){var n=e;return new Promise(function(e,t){n.onload=function(){return e(n)},n.onerror=function(){return t()},n.onreadystatechange=function(){"complete"===n.readyState&&e(n)}})},e}();return new(function(){function e(){this.name="[Toast]"}return e.prototype.all=function(e){var t=this,n=this;return Promise.all(e.map(function(e){if("string"==typeof e)switch(e.split(".").pop().toLowerCase()){case"css":return n.css(e);case"js":return n.js(e);default:return console.error(t.name+" unable to detect extension of '"+e+"'"),Promise.reject()}else{if(e instanceof HTMLLinkElement)return n.css(e);if(e instanceof HTMLScriptElement)return n.js(e)}return console.error(t.name+" unexpected error"),Promise.reject()}))},e.prototype.css=function(e){return this.resource(new t,e)},e.prototype.js=function(e){return this.resource(new n,e)},e.prototype.resource=function(e,t){return"string"==typeof t?e.load(t):e.listen(t)},e}())});